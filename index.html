<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>For My Baby ❤️</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- responsive -->
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      height: 100vh;
      background: #ffe6f0;
    }

    #startPage {
      text-align: center;
      padding: 20px;
    }

    #startPage h1 {
      font-size: 2em;
      color: #b30059;
    }

    #startPage button {
      padding: 14px 28px;
      font-size: 20px;
      background: #ff6699;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      color: white;
    }

    #game {
      display: none;
      position: relative;
      width: 90vw;   /* responsive */
      height: 55vh;  /* fits on phone */
      background: #fff0f5;
      border: 3px solid #b30059;
      overflow: hidden;
      margin-bottom: 15px;
    }

    .player {
      position: absolute;
      width: 40px;
      height: 40px;
      background: #4CAF50;
      border-radius: 5px;
    }

    .target {
      position: absolute;
      width: 50px;
      height: 50px;
      border-radius: 5px;
      transition: all 2s linear;
    }

    .videoBlock { background: #ff6666; }
    .textBlock { background: #66b3ff; }
    .loveBlock { background: #ffcc66; }

    #messageBox {
      text-align: center;
      font-size: 18px;
      color: #333;
      max-width: 90vw;
      overflow-y: auto;
      max-height: 30vh;
    }

    video {
      width: 80%;
      display: block;
      margin: 10px auto;
      border-radius: 8px;
    }

    /* Touch controls */
    #controls {
      display: none;
      flex-direction: column;
      align-items: center;
      gap: 10px;
    }
    .row {
      display: flex;
      gap: 20px;
    }
    .btn {
      width: 60px;
      height: 60px;
      background: #ff6699;
      color: white;
      font-size: 24px;
      border: none;
      border-radius: 50%;
      text-align: center;
      line-height: 60px;
      user-select: none;
    }
  </style>
</head>
<body>
  <!-- Start Page -->
  <div id="startPage">
    <h1>Hi my baby 💕</h1>
    <p>Press the button to play</p>
    <button onclick="startGame()">Start</button>
  </div>

  <!-- Game Page -->
  <div id="game">
    <div class="player" id="player"></div>
    <div class="target videoBlock" id="videoBlock"></div>
    <div class="target textBlock" id="textBlock"></div>
    <div class="target loveBlock" id="loveBlock"></div>
  </div>

  <!-- Mobile Controls -->
  <div id="controls">
    <div class="row">
      <button class="btn" onclick="move('up')">⬆️</button>
    </div>
    <div class="row">
      <button class="btn" onclick="move('left')">⬅️</button>
      <button class="btn" onclick="move('down')">⬇️</button>
      <button class="btn" onclick="move('right')">➡️</button>
    </div>
  </div>

  <div id="messageBox"></div>

  <script>
    const game = document.getElementById("game");
    const player = document.getElementById("player");
    const videoBlock = document.getElementById("videoBlock");
    const textBlock = document.getElementById("textBlock");
    const loveBlock = document.getElementById("loveBlock");
    const messageBox = document.getElementById("messageBox");

    let playerX = 50, playerY = 50;
    let step = 25; // movement step
    let gameRunning = false;

    function startGame() {
      document.getElementById("startPage").style.display = "none";
      game.style.display = "block";
      document.getElementById("controls").style.display = "flex";
      messageBox.innerHTML = "";

      // Reset positions
      playerX = 50; playerY = 50;
      player.style.left = playerX + "px";
      player.style.top = playerY + "px";

      placeRandom(videoBlock);
      placeRandom(textBlock);
      placeRandom(loveBlock);

      gameRunning = true;
      moveTargetsSmooth();
    }

    // Keyboard movement
    document.addEventListener("keydown", (e) => {
      if (!gameRunning) return;
      if (e.key === "ArrowLeft") move("left");
      if (e.key === "ArrowRight") move("right");
      if (e.key === "ArrowUp") move("up");
      if (e.key === "ArrowDown") move("down");
    });

    // Button/touch movement
    function move(dir) {
      if (!gameRunning) return;
      const maxX = game.clientWidth - 40;
      const maxY = game.clientHeight - 40;
      if (dir === "left") playerX = Math.max(0, playerX - step);
      if (dir === "right") playerX = Math.min(maxX, playerX + step);
      if (dir === "up") playerY = Math.max(0, playerY - step);
      if (dir === "down") playerY = Math.min(maxY, playerY + step);
      player.style.left = playerX + "px";
      player.style.top = playerY + "px";
      checkCollision();
    }

    // Place randomly inside the game box
    function placeRandom(el) {
      const maxX = game.clientWidth - 50;
      const maxY = game.clientHeight - 50;
      const x = Math.floor(Math.random() * maxX);
      const y = Math.floor(Math.random() * maxY);
      el.style.left = x + "px";
      el.style.top = y + "px";
    }

    // Check collisions
    function checkCollision() {
      const targets = [videoBlock, textBlock, loveBlock];
      targets.forEach(target => {
        if (isColliding(player, target)) {
          if (target === videoBlock) {
            messageBox.innerHTML = "<p>no no not this block look for more hehe</p>";
          }
          else if (target === textBlock) {
            messageBox.innerHTML = `<p>بحبك يا نور عيوني فوق ما بتتصوري بكثير ... 💕</p>`; 
          }
          else if (target === loveBlock) {
            messageBox.innerHTML = "<p>I love you! Keep looking ❤️</p>";
          }
          placeRandom(target); // move block after being caught
        }
      });
    }

    function isColliding(a, b) {
      const aRect = a.getBoundingClientRect();
      const bRect = b.getBoundingClientRect();
      return !(
        aRect.top > bRect.bottom ||
        aRect.bottom < bRect.top ||
        aRect.left > bRect.right ||
        aRect.right < bRect.left
      );
    }

    // Make targets move smoothly every 2s
    function moveTargetsSmooth() {
      setInterval(() => {
        if (!gameRunning) return;
        placeRandom(videoBlock);
        placeRandom(textBlock);
        placeRandom(loveBlock);
      }, 2000);
    }
  </script>
</body>
</html>

